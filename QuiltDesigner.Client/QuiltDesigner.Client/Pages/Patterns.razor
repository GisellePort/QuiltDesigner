@page "/patterns"

<h3>Pattern Manager</h3>

<p>Select quilt size (blocks wide × blocks tall):</p>

<div style="margin-bottom:15px;">
    <label>Width (blocks): </label>
    <input type="number" min="1" @bind="width" />
</div>
<div style="margin-bottom:15px;">
    <label>Height (blocks): </label>
    <input type="number" min="1" @bind="height" />
</div>

<button @onclick="GenerateGrid">Generate Layout</button>

<hr />

@if (grid != null)
{
    <div style="display:grid; grid-template-columns:@($"repeat({width}, 50px)") ; gap:2px;">
        @for (int row = 0; row < height; row++)
        {
            @for (int col = 0; col < width; col++)
            {
                <div style="width:50px; height:50px; border:1px solid #333; background-color:@grid[row, col];"></div>
            }
        }
    </div>
}

@code {
    private int width = 5; // default width
    private int height = 7; // default height

    // 2D array representing each block color
    private string[,]? grid;

    // Initialize the grid with blank colors
    private void GenerateGrid()
    {
        grid = new string[height, width];

        for (int r = 0; r < height; r++)
        {
            for (int c = 0; c < width; c++)
            {
                grid[r, c] = "#ffffff"; // white = blank block
            }
        }
    }
}
